<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Система прогнозирования безопасности АТС</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <h1 class="text-center my-4">Система прогнозирования безопасности авиационных транспортных систем</h1>
            </div>
        </div>
        
        <div class="row">
            <!-- Основная колонка -->
            <div class="col-lg-6 main-column">
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <caption class="text-center fw-bold">Исследуемые показатели</caption>
                        <thead class="table-light">
                            <tr>
                                <th>Название параметра</th>
                                <th>Значение</th>
                                <th>Предел</th>
                                <th>Норм. знаменатель</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>X1 - Нарушения инструкций пилотами</td>
                                <td><input type="number" class="form-control form-control-sm" id="X1" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X1_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X1_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X2 - Количество катастроф</td>
                                <td><input type="number" class="form-control form-control-sm" id="X2" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X2_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X2_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X3 - Коэффициент повторяемости происшествий</td>
                                <td><input type="number" class="form-control form-control-sm" id="X3" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X3_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X3_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X4 - Доля частных судов</td>
                                <td><input type="number" class="form-control form-control-sm" id="X4" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X4_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X4_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X5 - Метеорологические службы</td>
                                <td><input type="number" class="form-control form-control-sm" id="X5" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X5_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X5_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X6 - Контроль контрафакта</td>
                                <td><input type="number" class="form-control form-control-sm" id="X6" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X6_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X6_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X7 - Возраст воздушных судов</td>
                                <td><input type="number" class="form-control form-control-sm" id="X7" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X7_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X7_norm" value="1.0" step="0.01"></td>
                            </tr>
                            <tr>
                                <td>X8 - Квалификация персонала</td>
                                <td><input type="number" class="form-control form-control-sm" id="X8" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X8_max" step="0.01"></td>
                                <td><input type="number" class="form-control form-control-sm" id="X8_norm" value="1.0" step="0.01"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Кнопки управления -->
                <div class="text-center my-3">
                    <div class="mb-3">
                        <button id="random" class="btn btn-secondary">Заполнить случайными значениями</button>
                        <input type="number" id="chanceInput" class="form-control d-inline-block" style="width: 100px;" value="0.9" step="0.01" min="0" max="1">
                    </div>
                    <div class="mb-3">
                        <label for="yearsInput" class="form-label fw-bold">Количество лет для расчёта:</label>
                        <input type="number" id="yearsInput" class="form-control d-inline-block" style="width: 120px;" value="10" step="1" min="1" max="50">
                        <small class="text-muted">(от 1 до 50 лет)</small>
                    </div>
                    <button id="saveValuesToJson" class="btn btn-primary">Сохранить значения</button>
                    <button id="loadValuesFromJson" class="btn btn-primary">Загрузить значения</button>
                    <button id="calculate" class="btn btn-success btn-lg mt-2">Вычислить результат</button>
                </div>
                
                <h2 class="mt-4">Последние результаты:</h2>
                <div id="results" class="mt-3">
                    <!-- Здесь будут отображаться графики -->
                </div>
            </div>
            
            <!-- Вторая колонка -->
            <div class="col-lg-6 secondary-column">
                <!-- Таблица возмущений -->
                <div class="table-responsive mb-4">
                    <table class="table table-bordered">
                        <caption class="text-center fw-bold">Возмущения (внешние факторы)</caption>
                        <tbody id="disturbancesTable">
                            <tr>
                                <td class="disturbance">
                                    <h5 class="mb-3">F1 - Средний лётный стаж пилотов</h5>
                                    F<sub>1</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qa1" step="0.01">t<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qb1" step="0.01">t<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qc1" step="0.01">t +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qd1" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="disturbance">
                                    <h5 class="mb-3">F2 - Доля иностранных воздушных судов</h5>
                                    F<sub>2</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qa2" step="0.01">t<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qb2" step="0.01">t<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qc2" step="0.01">t +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qd2" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="disturbance">
                                    <h5 class="mb-3">F3 - Средняя выработка ресурса до списания</h5>
                                    F<sub>3</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qa3" step="0.01">t<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qb3" step="0.01">t<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qc3" step="0.01">t +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qd3" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="disturbance">
                                    <h5 class="mb-3">F4 - Стоимость авиационного топлива</h5>
                                    F<sub>4</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qa4" step="0.01">t<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qb4" step="0.01">t<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qc4" step="0.01">t +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qd4" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="disturbance">
                                    <h5 class="mb-3">F5 - Количество нормативно-правовых актов</h5>
                                    F<sub>5</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qa5" step="0.01">t<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qb5" step="0.01">t<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qc5" step="0.01">t +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="qd5" step="0.01">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Таблица уравнений связей -->
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <caption class="text-center fw-bold">Уравнения связей переменных</caption>
                        <tbody id="equationsTable">
                            <!-- Уравнения для X1 -->
                            <tr>
                                <td class="equation">
                                    f<sub>1</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a1" step="0.01">X<sub>1</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b1" step="0.01">X<sub>1</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c1" step="0.01">X<sub>1</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d1" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X2 -->
                            <tr>
                                <td class="equation">
                                    f<sub>2</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a2" step="0.01">X<sub>2</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b2" step="0.01">X<sub>2</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c2" step="0.01">X<sub>2</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d2" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X3 -->
                            <tr>
                                <td class="equation">
                                    f<sub>3</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a3" step="0.01">X<sub>3</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b3" step="0.01">X<sub>3</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c3" step="0.01">X<sub>3</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d3" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X4 -->
                            <tr>
                                <td class="equation">
                                    f<sub>4</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a4" step="0.01">X<sub>4</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b4" step="0.01">X<sub>4</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c4" step="0.01">X<sub>4</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d4" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X5 -->
                            <tr>
                                <td class="equation">
                                    f<sub>5</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a5" step="0.01">X<sub>5</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b5" step="0.01">X<sub>5</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c5" step="0.01">X<sub>5</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d5" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X6 -->
                            <tr>
                                <td class="equation">
                                    f<sub>6</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a6" step="0.01">X<sub>6</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b6" step="0.01">X<sub>6</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c6" step="0.01">X<sub>6</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d6" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X7 -->
                            <tr>
                                <td class="equation">
                                    f<sub>7</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a7" step="0.01">X<sub>7</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b7" step="0.01">X<sub>7</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c7" step="0.01">X<sub>7</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d7" step="0.01">
                                </td>
                            </tr>
                            <!-- Уравнения для X8 -->
                            <tr>
                                <td class="equation">
                                    f<sub>8</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a8" step="0.01">X<sub>8</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b8" step="0.01">X<sub>8</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c8" step="0.01">X<sub>8</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d8" step="0.01">
                                </td>
                            </tr>
                            <!-- Дополнительные уравнения взаимосвязей -->
                            <tr>
                                <td class="equation">
                                    f<sub>9</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a9" step="0.01">X<sub>1</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b9" step="0.01">X<sub>2</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c9" step="0.01">X<sub>3</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d9" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>10</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a10" step="0.01">X<sub>4</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b10" step="0.01">X<sub>5</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c10" step="0.01">X<sub>6</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d10" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>11</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a11" step="0.01">X<sub>7</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b11" step="0.01">X<sub>8</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c11" step="0.01">X<sub>1</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d11" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>12</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a12" step="0.01">X<sub>2</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b12" step="0.01">X<sub>3</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c12" step="0.01">X<sub>4</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d12" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>13</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a13" step="0.01">X<sub>5</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b13" step="0.01">X<sub>6</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c13" step="0.01">X<sub>7</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d13" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>14</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a14" step="0.01">X<sub>8</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b14" step="0.01">X<sub>1</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c14" step="0.01">X<sub>2</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d14" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>15</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a15" step="0.01">X<sub>3</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b15" step="0.01">X<sub>4</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c15" step="0.01">X<sub>5</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d15" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>16</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a16" step="0.01">X<sub>6</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b16" step="0.01">X<sub>7</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c16" step="0.01">X<sub>8</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d16" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>17</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a17" step="0.01">X<sub>1</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b17" step="0.01">X<sub>3</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c17" step="0.01">X<sub>5</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d17" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>18</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a18" step="0.01">X<sub>2</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b18" step="0.01">X<sub>4</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c18" step="0.01">X<sub>6</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d18" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>19</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a19" step="0.01">X<sub>7</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b19" step="0.01">X<sub>1</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c19" step="0.01">X<sub>8</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d19" step="0.01">
                                </td>
                            </tr>
                            <tr>
                                <td class="equation">
                                    f<sub>20</sub> = <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="a20" step="0.01">X<sub>4</sub>(t)<sup>3</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="b20" step="0.01">X<sub>2</sub>(t)<sup>2</sup> +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="c20" step="0.01">X<sub>3</sub>(t) +
                                    <input type="number" class="form-control form-control-sm d-inline-block coef-input" id="d20" step="0.01">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>
