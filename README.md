# Система прогнозирования безопасности авиационных транспортных систем

Веб-сервис для прогнозирования характеристик безопасности функционирования авиационных транспортных систем на основе моделей системной динамики.

## Описание

Система реализует математическую модель, основанную на аппарате системной динамики, для прогнозирования характеристик безопасности АТС. Модель включает:

- **8 переменных системы** (X1-X8), описывающих различные аспекты безопасности
- **5 внешних факторов** (F1-F5), влияющих на систему
- **Систему нелинейных дифференциальных уравнений**, решаемую методом Рунге-Кутта 4-го порядка

### Переменные системы

- **X1** - Среднее количество нарушений инструкций пилотами
- **X2** - Количество катастроф (основной показатель)
- **X3** - Коэффициент повторяемости авиационных происшествий
- **X4** - Доля частных судов в авиации
- **X5** - Количество сотрудников метеорологических служб
- **X6** - Показатель активности органов контроля за контрафактом
- **X7** - Средний возраст воздушных судов
- **X8** - Средняя квалификация персонала

### Внешние факторы

- **F1** - Средний лётный стаж пилотов
- **F2** - Доля иностранных воздушных судов
- **F3** - Средняя выработка ресурса до списания
- **F4** - Стоимость авиационного топлива
- **F5** - Количество нормативно-правовых актов (контроль государства)

## Технологический стек

### Backend
- **FastAPI** - современный веб-фреймворк для создания API
- **NumPy** - библиотека для численных расчетов
- **SciPy** - научные вычисления
- **Pydantic** - валидация данных

### Frontend
- **HTML5/CSS3** - современный адаптивный интерфейс
- **JavaScript (ES6+)** - логика фронтенда
- **Chart.js** - визуализация графиков

## Установка и запуск

### Требования

- Python 3.8 или выше
- pip (менеджер пакетов Python)

### Шаг 1: Клонирование репозитория

```bash
cd kushnikov1
```

### Шаг 2: Установка зависимостей

```bash
pip install -r requirements.txt
```

### Шаг 3: Запуск сервера

```bash
cd backend
python main.py
```

Или используя uvicorn напрямую:

```bash
uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000
```

### Шаг 4: Открытие приложения

Откройте браузер и перейдите по адресу:
```
http://localhost:8000
```

## Использование

### Веб-интерфейс

1. **Установка параметров симуляции**
   - Выберите количество лет для прогноза (1-50 лет)
   - Установите шаг интегрирования (обычно 0.1)

2. **Настройка внешних факторов**
   - Измените множители для факторов F1-F5
   - Значение 1.0 = базовый сценарий
   - Значения > 1.0 = усиление фактора
   - Значения < 1.0 = ослабление фактора

3. **Быстрые сценарии**
   - **Базовый** - стандартные значения всех параметров
   - **↑ Контроль** - увеличение контроля со стороны государства (F5)
   - **↑ Повторяемость** - сценарий с увеличением повторяемости происшествий

4. **Запуск симуляции**
   - Нажмите кнопку "Запустить симуляцию"
   - Дождитесь завершения расчетов
   - Изучите результаты на графиках

5. **Визуализация результатов**
   - **Количество катастроф (X2)** - основной показатель безопасности
   - **Все переменные** - график всех 8 переменных системы
   - **Сравнение** - сравнение нескольких сценариев

### API Endpoints

#### GET `/api/variables`
Получить список всех переменных и факторов системы.

**Ответ:**
```json
[
  {
    "code": "X1",
    "name": "Нарушения инструкций",
    "description": "Среднее количество нарушений инструкций пилотами",
    "type": "variable"
  },
  ...
]
```

#### POST `/api/simulate`
Запустить симуляцию модели.

**Запрос:**
```json
{
  "years": 10,
  "dt": 0.1,
  "factor_multipliers": {
    "F1": 1.0,
    "F2": 1.0,
    "F3": 1.0,
    "F4": 1.0,
    "F5": 1.5
  }
}
```

**Ответ:**
```json
{
  "time": [0.0, 0.1, 0.2, ...],
  "X1": [1.0, 0.98, 0.96, ...],
  "X2": [1.0, 0.95, 0.91, ...],
  ...
}
```

#### GET `/api/health`
Проверка работоспособности API.

## Примеры экспериментов

### Эксперимент 1: Влияние государственного контроля

Увеличьте F5 (контроль государства) до 1.5 и запустите симуляцию.

**Ожидаемый результат:** Снижение количества катастроф (X2) с течением времени.

### Эксперимент 2: Влияние повторяемости происшествий

Используйте быстрый сценарий "↑ Повторяемость" (уменьшение F5, увеличение F2 и F4).

**Ожидаемый результат:** Рост количества катастроф.

### Эксперимент 3: Сравнение сценариев

1. Запустите базовую симуляцию
2. Сохраните результат (кнопка "Сохранить текущий результат")
3. Измените параметры (например, F5 = 2.0)
4. Запустите симуляцию снова
5. Перейдите на вкладку "Сравнение"

## Структура проекта

```
kushnikov1/
├── backend/
│   ├── main.py          # FastAPI приложение
│   └── model.py         # Математическая модель
├── frontend/
│   ├── index.html       # Главная страница
│   ├── styles.css       # Стили
│   └── app.js          # Логика фронтенда
├── requirements.txt     # Зависимости Python
└── README.md           # Документация
```

## Научная основа

Модель основана на научной статье:

**"Прогнозирование характеристик безопасности функционирования авиационных транспортных систем на основе моделей системной динамики"**

*Авторы:* Н. А. Асеев, В.А. Кушников, А. С. Богомолов, А.Ю. Спиридонов

Система использует методы системной динамики для моделирования сложных взаимосвязей в авиационных транспортных системах и прогнозирования их поведения во времени.

## Математическая модель

Система описывается следующими дифференциальными уравнениями:

```
dXi/dt = f(X1, X2, ..., X8, F1, F2, ..., F5)
```

Решение производится методом Рунге-Кутта 4-го порядка с адаптивным шагом интегрирования.

## Разработка

### Запуск в режиме разработки

```bash
uvicorn backend.main:app --reload
```

### Запуск с автоматической перезагрузкой при изменениях

```bash
uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000
```

## Возможные улучшения

- [ ] Добавление базы данных для сохранения результатов симуляций
- [ ] Экспорт результатов в CSV/Excel
- [ ] Расширенная статистика и аналитика
- [ ] Калибровка модели по реальным данным МАК
- [ ] Добавление неопределенности и стохастических элементов
- [ ] Многопользовательский режим

## Лицензия

Образовательный проект на основе научной публикации.

## Деплой (развертывание в интернете)

### Бесплатные варианты хостинга

Ваше приложение можно бесплатно развернуть в интернете!

**Рекомендуемые платформы:**

1. **Render.com** ⭐ (Самый простой)
   - Бесплатный SSL
   - 750 часов/месяц
   - Автоматический деплой из GitHub
   - **Инструкция:** [БЫСТРЫЙ_ДЕПЛОЙ.md](БЫСТРЫЙ_ДЕПЛОЙ.md)

2. **Railway.app** (Быстрый)
   - 500 часов/месяц
   - Простой интерфейс

3. **Replit** (Мгновенный)
   - Работает в браузере
   - Не нужен Git

**Подробные инструкции:** см. [DEPLOY.md](DEPLOY.md)

### Быстрый старт (5 минут):

```bash
# 1. Загрузите код на GitHub
git init
git add .
git commit -m "Initial commit"
git push

# 2. Зарегистрируйтесь на render.com
# 3. Подключите GitHub репозиторий
# 4. Готово! Получите публичную ссылку
```

## Примеры работающих приложений

После деплоя ваше приложение будет доступно по ссылке типа:
```
https://aviation-safety.onrender.com
```

## Контакты

Если у вас есть вопросы или предложения, пожалуйста, создайте issue в репозитории проекта.

